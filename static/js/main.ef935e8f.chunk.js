(this["webpackJsonpgraybot-web"]=this["webpackJsonpgraybot-web"]||[]).push([[0],{122:function(e,o,a){e.exports=a(280)},280:function(e,o,a){"use strict";a.r(o);var t=a(0),n=a.n(t),r=a(11),i=a.n(r),l=(a(127),a(119)),s=a(52),c=a(12),u=a(107),d=a(31),h=a(108),g=a(109),m=a(120),f=a(115),p=a.n(f),y=a(110),v=a.n(y),b=a(306),w=a(302),C=a(303),O=a(117),E=a.n(O),k=a(305),A=a(304),P=a(118),S=a.n(P),M=a(111),j=a.n(M),L=a(112),T=a.n(L);function x(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,t)}return a}function B(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?x(Object(a),!0).forEach((function(o){Object(c.a)(e,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))}))}return e}var D={audioLists:[],defaultPlayIndex:0,theme:"dark",bounds:"parent",preload:!0,glassBg:!0,remember:!1,remove:!0,defaultPosition:{top:300,left:120},playModeText:{order:"All",orderLoop:"Repeat All",singleLoop:"Repeat Current",shufflePlay:"Shuffle"},openText:"Open",closeText:"Close",checkedText:"-",unCheckedText:"-",notContentText:"No Song",panelTitle:"Playlist",defaultPlayMode:"order",mode:"mini",once:!0,autoPlay:!1,toggleMode:!0,showMiniModeCover:!0,showMiniProcessBar:!1,drag:!0,seeked:!0,controllerTitle:n.a.createElement(p.a,null),showProgressLoadBar:!0,showPlay:!0,showReload:!0,showDownload:!1,showPlayMode:!0,showThemeSwitch:!0,showLyric:!1,extendsContent:[],defaultVolume:100,playModeShowTime:600,loadAudioErrorPlayNext:!0,autoHiddenCover:!0,onAudioDownload:function(e){console.log("audio download",e)},onAudioPlay:function(e){console.log("audio playing",e)},onAudioPause:function(e){console.log("audio pause",e)},onAudioSeeked:function(e){console.log("audio seeked",e)},onAudioVolumeChange:function(e){console.log("audio volume change",e)},onAudioEnded:function(e){console.log("audio ended",e)},onAudioAbort:function(e){console.log("audio abort",e)},onAudioProgress:function(e){},onAudioReload:function(e){console.log("audio reload:",e)},onAudioLoadError:function(e){console.error("audio load err",e)},onThemeChange:function(e){console.log("theme change:",e)},onAudioListsChange:function(e,o,a){console.log("[currentPlayId] audio lists change:",e),console.log("[audioLists] audio lists change:",o),console.log("[audioInfo] audio lists change:",a)},onAudioPlayTrackChange:function(e,o,a){console.log("audio play track change:",e,o,a)},onPlayModeChange:function(e){console.log("play mode change:",e)},onModeChange:function(e){console.log("mode change:",e)},onAudioListsPanelChange:function(e){console.log("audio lists panel visible:",e)},onAudioListsDragEnd:function(e,o){console.log("audio lists drag end:",e,o)},onAudioLyricChange:function(e,o){console.log("audio lyric change:",e,o)},getContainer:function(){return document.body},getAudioInstance:function(e){console.log("audio instance",e)}},N=function(e){function o(){var e,a;Object(u.a)(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(g.a)(o)).call.apply(e,[this].concat(n)))).state={params:D,loading:!1},a.prevSearch="<#NONE#>",a.onAddAudio=function(e){var o=B({},a.state.params,{audioLists:[].concat(Object(s.a)(a.state.params.audioLists),[e])});a.setState({params:o})},a.onShowGlassBg=function(){a.onChangeKey("glassBg")},a.onDrag=function(){a.onChangeKey("drag")},a.onToggleMode=function(){a.onChangeKey("toggleMode")},a.onSeeked=function(){a.onChangeKey("seeked")},a.onChangeKey=function(e){var o=B({},a.state.params,Object(c.a)({},e,!a.state.params[e]));"light"!==e&&"dark"!==e||(o.theme=e),"full"!==e&&"mini"!==e||(o.mode=e),a.setState({params:o})},a.showMiniProcessBar=function(){a.onChangeKey("showMiniProcessBar")},a.showMiniModeCover=function(){a.onChangeKey("showMiniModeCover")},a}return Object(m.a)(o,e),Object(d.a)(o,[{key:"handleSearch",value:function(e){e.preventDefault(),this.setState({loading:!0}),this.makeSearch(e.target.value,0,[],10,0),this.prevSearch=e.target.value}},{key:"changeOptions",value:function(e){for(var o=0;o<e.length;o++)this.onAddAudio(e[o])}},{key:"makeSearch",value:function(e,o,a,t,n){var r=this;this.prevSearch=e;var i={method:"post",url:"https://gray-server.herokuapp.com/youtube",data:{search:e,items:t,more:o,prev:a}};j()(i).then((function(e){console.log(e.data);var o=e.data,a=r.state.params.audioLists,t=[];for(var n in r.state.params.audioLists){if(!n)break;var i={name:n.name,singer:n.author,cover:n.imglnk,musicSrc:n.amrl,yturl:n.yturl};t.push(i)}for(var s=0,c=Object.entries(o.data);s<c.length;s++){var u=c[s],d=Object(l.a)(u,2),h=d[0],g=d[1],m={name:g.title,singer:g.author,cover:g.thumb.replace("default","mqdefault"),musicSrc:g.best_audio.url,yturl:h};t.push(m);var f={yturl:h,name:g.title,author:g.author,amrl:g.best_audio.url,imglnk:g.thumb.replace("default","mqdefault")};a.push(f)}r.changeOptions(t),r.setState({loading:!1})})).catch((function(e){console.log(e),r.setState({loading:!1}),alert("Error communicating with server")}))}},{key:"loadMore",value:function(e){if(e.preventDefault(),"<#NONE#>"!==this.prevSearch){for(var o=[],a=0;a<this.state.params.audioLists.length;a++)o.push(this.state.params.audioLists[a].yturl);this.makeSearch(this.prevSearch,1,o,5,0)}}},{key:"render",value:function(){var e=this,o=this.state.params;return console.log("params: ",o),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"classes.root"},n.a.createElement(b.a,{position:"static",style:{background:"#1C1C1C"}},n.a.createElement(w.a,null,n.a.createElement(C.a,{className:"classes.title",variant:"h6",noWrap:!0},"GrayBot - Web"),n.a.createElement("div",{style:{marginLeft:"auto",marginRight:0,float:"right"}},n.a.createElement(k.a,{placeholder:"Search\u2026",onKeyDown:function(o){13===o.keyCode?e.handleSearch(o):console.log(0)},classes:{root:{color:"#FFFFFF"},input:{padding:7,width:"100%"}},inputProps:{style:{fontFamily:"Arial",color:"white","aria-label":"search"}}},n.a.createElement(E.a,{style:{height:"100%",pointerEvents:"none",marginTop:2}})))))),n.a.createElement("div",{className:"classesAB.root"},n.a.createElement(A.a,{variant:"extended",onClick:function(o){console.log("MORE CLICKED"),e.loadMore(o)}},n.a.createElement(S.a,{className:"classesAB.extendedIcon"}),"Load More"),n.a.createElement(T.a,{loading:this.state.loading,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767"})),n.a.createElement(v.a,o))}}]),o}(n.a.Component);function K(){return n.a.createElement("div",{style:{alignItems:"center"}},n.a.createElement(N,null))}var F=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[122,1,2]]]);
//# sourceMappingURL=main.ef935e8f.chunk.js.map