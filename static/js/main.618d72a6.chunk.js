(this["webpackJsonpgraybot-web"]=this["webpackJsonpgraybot-web"]||[]).push([[0],{129:function(e,a,t){e.exports=t(289)},289:function(e,a,t){"use strict";t.r(a);var o=t(0),n=t.n(o),r=t(15),l=t.n(r),i=t(125),s=t(27),c=(t(134),t(80)),u=t(56),d=t(16),h=t(115),g=t(36),m=t(116),p=t(117),f=t(127),v=t(122),y=t.n(v),b=t(118),w=t.n(b),E=t(314),k=t(310),C=t(311),O=t(123),S=t.n(O),A=t(313),P=t(312),j=t(124),M=t.n(j),L=t(75),x=t.n(L),T=t(119),D=t.n(T);function B(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function N(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?B(Object(t),!0).forEach((function(a){Object(d.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var I={audioLists:[],defaultPlayIndex:0,theme:"dark",bounds:"parent",preload:!0,glassBg:!0,remember:!1,remove:!0,defaultPosition:{top:300,left:120},playModeText:{order:"All",orderLoop:"Repeat All",singleLoop:"Repeat Current",shufflePlay:"Shuffle"},openText:"Open",closeText:"Close",checkedText:"-",unCheckedText:"-",notContentText:"No Song",panelTitle:"Playlist",defaultPlayMode:"order",mode:"mini",once:!0,autoPlay:!1,toggleMode:!0,showMiniModeCover:!0,showMiniProcessBar:!1,drag:!0,seeked:!0,controllerTitle:n.a.createElement(y.a,null),showProgressLoadBar:!0,showPlay:!0,showReload:!0,showDownload:!1,showPlayMode:!0,showThemeSwitch:!0,showLyric:!1,extendsContent:[],defaultVolume:100,playModeShowTime:600,loadAudioErrorPlayNext:!0,autoHiddenCover:!0,onAudioDownload:function(e){console.log("audio download",e)},onAudioPlay:function(e){console.log("audio playing",e)},onAudioPause:function(e){console.log("audio pause",e)},onAudioSeeked:function(e){console.log("audio seeked",e)},onAudioVolumeChange:function(e){console.log("audio volume change",e)},onAudioEnded:function(e){console.log("audio ended",e)},onAudioAbort:function(e){console.log("audio abort",e)},onAudioProgress:function(e){},onAudioReload:function(e){console.log("audio reload:",e)},onAudioLoadError:function(e){console.error("audio load err",e)},onThemeChange:function(e){console.log("theme change:",e)},onAudioListsChange:function(e,a,t){console.log("[currentPlayId] audio lists change:",e),console.log("[audioLists] audio lists change:",a),console.log("[audioInfo] audio lists change:",t)},onAudioPlayTrackChange:function(e,a,t){console.log("audio play track change:",e,a,t)},onPlayModeChange:function(e){console.log("play mode change:",e)},onModeChange:function(e){console.log("mode change:",e)},onAudioListsPanelChange:function(e){console.log("audio lists panel visible:",e)},onAudioListsDragEnd:function(e,a){console.log("audio lists drag end:",e,a)},onAudioLyricChange:function(e,a){console.log("audio lyric change:",e,a)},getContainer:function(){return document.body},getAudioInstance:function(e){console.log("audio instance",e)}},K=function(e){function a(){var e,t;Object(h.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).state={params:I,loading:!1},t.prevSearch="<#NONE#>",t.onAddAudio=function(e){var a=N({},t.state.params,{audioLists:[].concat(Object(u.a)(t.state.params.audioLists),[e])});t.setState({params:a})},t.onShowGlassBg=function(){t.onChangeKey("glassBg")},t.onDrag=function(){t.onChangeKey("drag")},t.onToggleMode=function(){t.onChangeKey("toggleMode")},t.onSeeked=function(){t.onChangeKey("seeked")},t.onChangeKey=function(e){var a=N({},t.state.params,Object(d.a)({},e,!t.state.params[e]));"light"!==e&&"dark"!==e||(a.theme=e),"full"!==e&&"mini"!==e||(a.mode=e),t.setState({params:a})},t.showMiniProcessBar=function(){t.onChangeKey("showMiniProcessBar")},t.showMiniModeCover=function(){t.onChangeKey("showMiniModeCover")},t}return Object(f.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=null;if(window.location.href.length>="https://grayhat12.github.io/graybot-web/shared?vid".length+11&&(a=(a=window.location.href.substring("https://grayhat12.github.io/graybot-web/shared?vid".length)).replace("=","")),null!=a){this.setState({loading:!0});var t={method:"post",url:"https://gray-server.herokuapp.com/video",data:{videoId:a}};x()(t).then((function(a){var t=a.data,o=e.state.params.audioLists,n=[];for(var r in e.state.params.audioLists){if(!r)break;var l={name:r.name,singer:r.author,cover:r.imglnk,musicSrc:r.amrl,yturl:r.yturl};n.push(l)}for(var i=0,s=Object.entries(t.data);i<s.length;i++){var u=s[i],d=Object(c.a)(u,2),h=d[0],g=d[1],m={name:g.title,singer:g.author,cover:g.thumb.replace("default","mqdefault"),musicSrc:g.best_audio.url,yturl:h};n.push(m);var p={yturl:h,name:g.title,author:g.author,amrl:g.best_audio.url,imglnk:g.thumb.replace("default","mqdefault")};o.push(p)}e.changeOptions(n),e.setState({loading:!1})})).catch((function(a){console.log(a),e.setState({loading:!1}),alert("Error communicating with server")}))}}},{key:"handleSearch",value:function(e){e.preventDefault(),this.setState({loading:!0}),this.makeSearch(e.target.value,0,[],10,0),this.prevSearch=e.target.value}},{key:"changeOptions",value:function(e){for(var a=0;a<e.length;a++)this.onAddAudio(e[a])}},{key:"makeSearch",value:function(e,a,t,o,n){var r=this;this.prevSearch=e;var l={method:"post",url:"https://gray-server.herokuapp.com/youtube",data:{search:e,items:o,more:a,prev:t}};x()(l).then((function(e){console.log(e.data);var a=e.data,t=r.state.params.audioLists,o=[];for(var n in r.state.params.audioLists){if(!n)break;var l={name:n.name,singer:n.author,cover:n.imglnk,musicSrc:n.amrl,yturl:n.yturl};o.push(l)}for(var i=0,s=Object.entries(a.data);i<s.length;i++){var u=s[i],d=Object(c.a)(u,2),h=d[0],g=d[1],m={name:g.title,singer:g.author,cover:g.thumb.replace("default","mqdefault"),musicSrc:g.best_audio.url,yturl:h};o.push(m);var p={yturl:h,name:g.title,author:g.author,amrl:g.best_audio.url,imglnk:g.thumb.replace("default","mqdefault")};t.push(p)}r.changeOptions(o),r.setState({loading:!1})})).catch((function(e){console.log(e),r.setState({loading:!1}),alert("Error communicating with server")}))}},{key:"loadMore",value:function(e){if(e.preventDefault(),"<#NONE#>"!==this.prevSearch){for(var a=[],t=0;t<this.state.params.audioLists.length;t++)a.push(this.state.params.audioLists[t].yturl);this.makeSearch(this.prevSearch,1,a,5,0)}}},{key:"render",value:function(){var e=this,a=this.state.params;return console.log("params: ",a),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"classes.root"},n.a.createElement(E.a,{position:"static",style:{background:"#1C1C1C"}},n.a.createElement(k.a,null,n.a.createElement(C.a,{className:"classes.title",variant:"h6",noWrap:!0},"GrayBot - Web"),n.a.createElement("div",{style:{marginLeft:"auto",marginRight:0,float:"right"}},n.a.createElement(A.a,{placeholder:"Search\u2026",onKeyDown:function(a){13===a.keyCode?e.handleSearch(a):console.log(0)},classes:{root:{color:"#FFFFFF"},input:{padding:7,width:"100%"}},inputProps:{style:{fontFamily:"Arial",color:"white","aria-label":"search"}}},n.a.createElement(S.a,{style:{height:"100%",pointerEvents:"none",marginTop:2}})))))),n.a.createElement("div",{className:"classesAB.root"},n.a.createElement(P.a,{variant:"extended",onClick:function(a){console.log("MORE CLICKED"),e.loadMore(a)}},n.a.createElement(M.a,{className:"classesAB.extendedIcon"}),"Load More"),n.a.createElement(D.a,{loading:this.state.loading,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767"})),n.a.createElement(w.a,a))}}]),a}(n.a.Component);function F(){return n.a.createElement("div",{style:{alignItems:"center"}},n.a.createElement(K,null))}var R=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(i.a,null,n.a.createElement("div",null,n.a.createElement(s.a,{exact:!0,path:"/"},n.a.createElement(R,null)),n.a.createElement(s.a,{path:"/shared"},n.a.createElement(R,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[129,1,2]]]);
//# sourceMappingURL=main.618d72a6.chunk.js.map