(this["webpackJsonpgraybot-web"]=this["webpackJsonpgraybot-web"]||[]).push([[0],{121:function(e,o,t){e.exports=t(279)},279:function(e,o,t){"use strict";t.r(o);var a=t(0),n=t.n(a),r=t(11),i=t.n(r),l=(t(126),t(73)),s=t(51),c=t(12),u=t(108),d=t(31),h=t(109),g=t(110),m=t(119),p=t(115),f=t.n(p),y=t(111),v=t.n(y),b=t(304),w=t(300),k=t(301),C=t(117),O=t.n(C),E=t(303),S=t(302),A=t(118),P=t.n(A),j=t(70),M=t.n(j),L=t(112),T=t.n(L);function x(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,a)}return t}function D(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?x(Object(t),!0).forEach((function(o){Object(c.a)(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var B={audioLists:[],defaultPlayIndex:0,theme:"dark",bounds:"parent",preload:!0,glassBg:!0,remember:!1,remove:!0,defaultPosition:{top:300,left:120},playModeText:{order:"All",orderLoop:"Repeat All",singleLoop:"Repeat Current",shufflePlay:"Shuffle"},openText:"Open",closeText:"Close",checkedText:"-",unCheckedText:"-",notContentText:"No Song",panelTitle:"Playlist",defaultPlayMode:"order",mode:"mini",once:!0,autoPlay:!1,toggleMode:!0,showMiniModeCover:!0,showMiniProcessBar:!1,drag:!0,seeked:!0,controllerTitle:n.a.createElement(f.a,null),showProgressLoadBar:!0,showPlay:!0,showReload:!0,showDownload:!1,showPlayMode:!0,showThemeSwitch:!0,showLyric:!1,extendsContent:[],defaultVolume:100,playModeShowTime:600,loadAudioErrorPlayNext:!0,autoHiddenCover:!0,onAudioDownload:function(e){console.log("audio download",e)},onAudioPlay:function(e){console.log("audio playing",e)},onAudioPause:function(e){console.log("audio pause",e)},onAudioSeeked:function(e){console.log("audio seeked",e)},onAudioVolumeChange:function(e){console.log("audio volume change",e)},onAudioEnded:function(e){console.log("audio ended",e)},onAudioAbort:function(e){console.log("audio abort",e)},onAudioProgress:function(e){},onAudioReload:function(e){console.log("audio reload:",e)},onAudioLoadError:function(e){console.error("audio load err",e)},onThemeChange:function(e){console.log("theme change:",e)},onAudioListsChange:function(e,o,t){console.log("[currentPlayId] audio lists change:",e),console.log("[audioLists] audio lists change:",o),console.log("[audioInfo] audio lists change:",t)},onAudioPlayTrackChange:function(e,o,t){console.log("audio play track change:",e,o,t)},onPlayModeChange:function(e){console.log("play mode change:",e)},onModeChange:function(e){console.log("mode change:",e)},onAudioListsPanelChange:function(e){console.log("audio lists panel visible:",e)},onAudioListsDragEnd:function(e,o){console.log("audio lists drag end:",e,o)},onAudioLyricChange:function(e,o){console.log("audio lyric change:",e,o)},getContainer:function(){return document.body},getAudioInstance:function(e){console.log("audio instance",e)}},N=function(e){function o(){var e,t;Object(u.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(h.a)(this,(e=Object(g.a)(o)).call.apply(e,[this].concat(n)))).state={params:B,loading:!1},t.prevSearch="<#NONE#>",t.onAddAudio=function(e){var o=D({},t.state.params,{audioLists:[].concat(Object(s.a)(t.state.params.audioLists),[e])});t.setState({params:o})},t.onShowGlassBg=function(){t.onChangeKey("glassBg")},t.onDrag=function(){t.onChangeKey("drag")},t.onToggleMode=function(){t.onChangeKey("toggleMode")},t.onSeeked=function(){t.onChangeKey("seeked")},t.onChangeKey=function(e){var o=D({},t.state.params,Object(c.a)({},e,!t.state.params[e]));"light"!==e&&"dark"!==e||(o.theme=e),"full"!==e&&"mini"!==e||(o.mode=e),t.setState({params:o})},t.showMiniProcessBar=function(){t.onChangeKey("showMiniProcessBar")},t.showMiniModeCover=function(){t.onChangeKey("showMiniModeCover")},t}return Object(m.a)(o,e),Object(d.a)(o,[{key:"componentDidMount",value:function(){var e=this,o=null;if(window.location.href.length>="https://grayhat12.github.io/graybot-web/".length+11&&(o=(o=window.location.href.substring("https://grayhat12.github.io/graybot-web".length)).replace("/","")),null!=o){this.setState({loading:!0});var t={method:"post",url:"https://gray-server.herokuapp.com/video",data:{videoId:o}};M()(t).then((function(o){var t=o.data,a=e.state.params.audioLists,n=[];for(var r in e.state.params.audioLists){if(!r)break;var i={name:r.name,singer:r.author,cover:r.imglnk,musicSrc:r.amrl,yturl:r.yturl};n.push(i)}for(var s=0,c=Object.entries(t.data);s<c.length;s++){var u=c[s],d=Object(l.a)(u,2),h=d[0],g=d[1],m={name:g.title,singer:g.author,cover:g.thumb.replace("default","mqdefault"),musicSrc:g.best_audio.url,yturl:h};n.push(m);var p={yturl:h,name:g.title,author:g.author,amrl:g.best_audio.url,imglnk:g.thumb.replace("default","mqdefault")};a.push(p)}e.changeOptions(n),e.setState({loading:!1})})).catch((function(o){console.log(o),e.setState({loading:!1}),alert("Error communicating with server")}))}}},{key:"handleSearch",value:function(e){e.preventDefault(),this.setState({loading:!0}),this.makeSearch(e.target.value,0,[],10,0),this.prevSearch=e.target.value}},{key:"changeOptions",value:function(e){for(var o=0;o<e.length;o++)this.onAddAudio(e[o])}},{key:"makeSearch",value:function(e,o,t,a,n){var r=this;this.prevSearch=e;var i={method:"post",url:"https://gray-server.herokuapp.com/youtube",data:{search:e,items:a,more:o,prev:t}};M()(i).then((function(e){console.log(e.data);var o=e.data,t=r.state.params.audioLists,a=[];for(var n in r.state.params.audioLists){if(!n)break;var i={name:n.name,singer:n.author,cover:n.imglnk,musicSrc:n.amrl,yturl:n.yturl};a.push(i)}for(var s=0,c=Object.entries(o.data);s<c.length;s++){var u=c[s],d=Object(l.a)(u,2),h=d[0],g=d[1],m={name:g.title,singer:g.author,cover:g.thumb.replace("default","mqdefault"),musicSrc:g.best_audio.url,yturl:h};a.push(m);var p={yturl:h,name:g.title,author:g.author,amrl:g.best_audio.url,imglnk:g.thumb.replace("default","mqdefault")};t.push(p)}r.changeOptions(a),r.setState({loading:!1})})).catch((function(e){console.log(e),r.setState({loading:!1}),alert("Error communicating with server")}))}},{key:"loadMore",value:function(e){if(e.preventDefault(),"<#NONE#>"!==this.prevSearch){for(var o=[],t=0;t<this.state.params.audioLists.length;t++)o.push(this.state.params.audioLists[t].yturl);this.makeSearch(this.prevSearch,1,o,5,0)}}},{key:"render",value:function(){var e=this,o=this.state.params;return console.log("params: ",o),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"classes.root"},n.a.createElement(b.a,{position:"static",style:{background:"#1C1C1C"}},n.a.createElement(w.a,null,n.a.createElement(k.a,{className:"classes.title",variant:"h6",noWrap:!0},"GrayBot - Web"),n.a.createElement("div",{style:{marginLeft:"auto",marginRight:0,float:"right"}},n.a.createElement(E.a,{placeholder:"Search\u2026",onKeyDown:function(o){13===o.keyCode?e.handleSearch(o):console.log(0)},classes:{root:{color:"#FFFFFF"},input:{padding:7,width:"100%"}},inputProps:{style:{fontFamily:"Arial",color:"white","aria-label":"search"}}},n.a.createElement(O.a,{style:{height:"100%",pointerEvents:"none",marginTop:2}})))))),n.a.createElement("div",{className:"classesAB.root"},n.a.createElement(S.a,{variant:"extended",onClick:function(o){console.log("MORE CLICKED"),e.loadMore(o)}},n.a.createElement(P.a,{className:"classesAB.extendedIcon"}),"Load More"),n.a.createElement(T.a,{loading:this.state.loading,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767"})),n.a.createElement(v.a,o))}}]),o}(n.a.Component);function I(){return n.a.createElement("div",{style:{alignItems:"center"}},n.a.createElement(N,null))}var K=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[121,1,2]]]);
//# sourceMappingURL=main.07d53d50.chunk.js.map