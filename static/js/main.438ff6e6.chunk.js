(this["webpackJsonpgraybot-web"]=this["webpackJsonpgraybot-web"]||[]).push([[0],{121:function(e,o,t){e.exports=t(279)},279:function(e,o,t){"use strict";t.r(o);var n=t(0),a=t.n(n),r=t(11),l=t.n(r),i=(t(126),t(118)),s=t(51),c=t(12),u=t(106),d=t(31),h=t(107),g=t(108),m=t(119),f=t(114),p=t.n(f),y=t(109),v=t.n(y),b=t(304),w=t(300),E=t(301),C=t(116),S=t.n(C),O=t(303),k=t(302),A=t(117),P=t.n(A),M=t(110),j=t.n(M),T=t(111),L=t.n(T);function I(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?I(Object(t),!0).forEach((function(o){Object(c.a)(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var B={audioLists:[],defaultPlayIndex:0,theme:"dark",bounds:"parent",preload:!0,glassBg:!0,remember:!0,remove:!0,defaultPosition:{top:300,left:120},playModeText:{order:"All",orderLoop:"Repeat All",singleLoop:"Repeat Current",shufflePlay:"Shuffle"},openText:"Open",closeText:"Close",checkedText:"-",unCheckedText:"-",notContentText:"No Song",panelTitle:"Playlist",defaultPlayMode:"order",mode:"mini",once:!0,autoPlay:!1,toggleMode:!0,showMiniModeCover:!0,showMiniProcessBar:!1,drag:!0,seeked:!0,controllerTitle:a.a.createElement(p.a,null),showProgressLoadBar:!0,showPlay:!0,showReload:!0,showDownload:!1,showPlayMode:!0,showThemeSwitch:!0,showLyric:!1,extendsContent:[],defaultVolume:100,playModeShowTime:600,loadAudioErrorPlayNext:!0,autoHiddenCover:!0,onAudioDownload:function(e){console.log("audio download",e)},onAudioPlay:function(e){console.log("audio playing",e)},onAudioPause:function(e){console.log("audio pause",e)},onAudioSeeked:function(e){console.log("audio seeked",e)},onAudioVolumeChange:function(e){console.log("audio volume change",e)},onAudioEnded:function(e){console.log("audio ended",e)},onAudioAbort:function(e){console.log("audio abort",e)},onAudioProgress:function(e){},onAudioReload:function(e){console.log("audio reload:",e)},onAudioLoadError:function(e){console.error("audio load err",e)},onThemeChange:function(e){console.log("theme change:",e)},onAudioListsChange:function(e,o,t){console.log("[currentPlayId] audio lists change:",e),console.log("[audioLists] audio lists change:",o),console.log("[audioInfo] audio lists change:",t)},onAudioPlayTrackChange:function(e,o,t){console.log("audio play track change:",e,o,t)},onPlayModeChange:function(e){console.log("play mode change:",e)},onModeChange:function(e){console.log("mode change:",e)},onAudioListsPanelChange:function(e){console.log("audio lists panel visible:",e)},onAudioListsDragEnd:function(e,o){console.log("audio lists drag end:",e,o)},onAudioLyricChange:function(e,o){console.log("audio lyric change:",e,o)},getContainer:function(){return document.body},getAudioInstance:function(e){console.log("audio instance",e)}},D=function(e){function o(){var e,t;Object(u.a)(this,o);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=Object(h.a)(this,(e=Object(g.a)(o)).call.apply(e,[this].concat(a)))).state={params:B,ITEMS:[],loading:!1},t.prevSearch="<#NONE#>",t.onAddAudio=function(e){var o=x({},t.state.params,{audioLists:[].concat(Object(s.a)(t.state.params.audioLists),[e])});t.setState({params:o})},t.onShowGlassBg=function(){t.onChangeKey("glassBg")},t.onDrag=function(){t.onChangeKey("drag")},t.onToggleMode=function(){t.onChangeKey("toggleMode")},t.onSeeked=function(){t.onChangeKey("seeked")},t.onChangeKey=function(e){var o=x({},t.state.params,Object(c.a)({},e,!t.state.params[e]));"light"!==e&&"dark"!==e||(o.theme=e),"full"!==e&&"mini"!==e||(o.mode=e),t.setState({params:o})},t.showMiniProcessBar=function(){t.onChangeKey("showMiniProcessBar")},t.showMiniModeCover=function(){t.onChangeKey("showMiniModeCover")},t}return Object(m.a)(o,e),Object(d.a)(o,[{key:"handleSearch",value:function(e){e.preventDefault(),this.setState({loading:!0}),this.makeSearch(e.target.value,0,[],10,0),this.prevSearch=e.target.value}},{key:"changeOptions",value:function(e){for(var o=0;o<e.length;o++)this.onAddAudio(e[o])}},{key:"makeSearch",value:function(e,o,t,n,a){var r=this;this.prevSearch=e;var l={method:"post",url:"https://gray-server.herokuapp.com/youtube",data:{search:e,items:n,more:o,prev:t}};j()(l).then((function(e){console.log(e.data);var o=e.data,t=r.state.ITEMS,n=[];for(var a in r.state.ITEMS){var l={name:a.name,singer:a.author,cover:a.imglnk,musicSrc:a.amrl};n.push(l)}for(var s=0,c=Object.entries(o.data);s<c.length;s++){var u=c[s],d=Object(i.a)(u,2),h=d[0],g=d[1],m={name:g.title,singer:g.author,cover:g.thumb.replace("default","mqdefault"),musicSrc:g.best_audio.url};n.push(m);var f={yturl:h,name:g.title,author:g.author,amrl:g.best_audio.url,imglnk:g.thumb.replace("default","mqdefault")};t.push(f)}r.changeOptions(n),r.setState({ITEMS:t}),r.setState({loading:!1})})).catch((function(e){console.log(e),r.setState({loading:!1}),alert("Error communicating with server")}))}},{key:"loadMore",value:function(e){if(e.preventDefault(),"<#NONE#>"!==this.prevSearch){for(var o=[],t=0;t<this.state.ITEMS.length;t++)o.push(this.state.ITEMS[t].yturl);this.makeSearch(this.prevSearch,1,o,5,0)}}},{key:"render",value:function(){var e=this,o=this.state.params;return console.log("params: ",o),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"classes.root"},a.a.createElement(b.a,{position:"static",style:{background:"#1C1C1C"}},a.a.createElement(w.a,null,a.a.createElement(E.a,{className:"classes.title",variant:"h6",noWrap:!0},"GrayBot - Web"),a.a.createElement("div",{style:{marginLeft:"auto",marginRight:0,float:"right"}},a.a.createElement(O.a,{placeholder:"Search\u2026",onKeyDown:function(o){13===o.keyCode?e.handleSearch(o):console.log(0)},classes:{root:{color:"#FFFFFF"},input:{padding:7,width:"100%"}},inputProps:{style:{fontFamily:"Arial",color:"white","aria-label":"search"}}},a.a.createElement(S.a,{style:{height:"100%",pointerEvents:"none",marginTop:2}})))))),a.a.createElement("div",{className:"classesAB.root"},a.a.createElement(k.a,{variant:"extended",onClick:function(o){console.log("MORE CLICKED"),e.loadMore(o)}},a.a.createElement(P.a,{className:"classesAB.extendedIcon"}),"Load More"),a.a.createElement(L.a,{loading:this.state.loading,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767"})),a.a.createElement(v.a,o))}}]),o}(a.a.Component);function N(){return a.a.createElement("div",{style:{alignItems:"center"}},a.a.createElement(D,null))}var K=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[121,1,2]]]);
//# sourceMappingURL=main.438ff6e6.chunk.js.map